<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>配布物一覧 - Yuu's Distribution</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
</head>

<body>
    <header>
        <div class="container">
            <nav>
                <a href="index.html" class="nav-link active">配布物一覧</a>
                <a href="about.html" class="nav-link">このサイトについて</a>
                <a href="https://www.youtube.com/" target="_blank" rel="noopener" class="nav-link">YouTube</a>
            </nav>
        </div>
    </header>

    <main class="container">
        <h1>配布物一覧</h1>

        <div id="item-grid" class="item-grid">
            <!-- Items will be loaded here via JavaScript -->
            <p style="text-align: center; grid-column: 1/-1;">読み込み中...</p>
        </div>
    </main>

    <script src="data/items.js"></script>
    <script>
        function loadItems() {
            const grid = document.getElementById('item-grid');
            try {
                // uses the variable 'distributionItems' from data/items.js
                const items = distributionItems;

                grid.innerHTML = ''; // Clear loading message

                items.forEach((item, index) => {
                    const card = document.createElement('a');
                    card.href = `${item.folder}/index.html`;
                    card.className = 'item-card';
                    card.style.animationDelay = `${index * 0.1}s`;

                    card.innerHTML = `
                        <img src="${item.folder}/image.png" alt="${item.title}" class="item-image" onerror="this.src='data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%22320%22%20height%3D%22180%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Crect%20width%3D%22320%22%20height%3D%22180%22%20fill%3D%22%23eee%22%2F%3E%3Ctext%20x%3D%2250%25%22%20y%3D%2250%25%22%20font-family%3D%22Arial%22%20font-size%3D%2218%22%20fill%3D%22%23999%22%20text-anchor%3D%22middle%22%20dy%3D%22.3em%22%3ENo%20Image%3C%2Ftext%3E%3C%2Fsvg%3E'">
                        <div class="item-content">
                            <h2 class="item-title">${item.title}</h2>
                            <p class="item-desc">${item.about}</p>
                        </div>
                    `;
                    grid.appendChild(card);
                });
            } catch (error) {
                console.error('Error loading items:', error);
                grid.innerHTML = '<p style="text-align: center; grid-column: 1/-1;">データの読み込みに失敗しました。</p>';
            }
        }

        loadItems();
    </script>

    <footer>
        <div class="container">
            <p>&copy; 2026 Yuu's Distribution. Built with ❤️ for GitHub Pages.</p>
        </div>
    </footer>
</body>

</html>